/*! For license information please see 13e81a499e541c9b2ae9.worker.js.LICENSE.txt */
!function(t){var r={};function __webpack_require__(i){if(r[i])return r[i].exports;var o=r[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}__webpack_require__.m=t,__webpack_require__.c=r,__webpack_require__.d=function(t,r,i){__webpack_require__.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})},__webpack_require__.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,r){if(1&r&&(t=__webpack_require__(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(__webpack_require__.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)__webpack_require__.d(i,o,function(r){return t[r]}.bind(null,o));return i},__webpack_require__.n=function(t){var r=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(r,"a",r),r},__webpack_require__.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},__webpack_require__.p="/cabana/",__webpack_require__(__webpack_require__.s=17)}([function(t,r,i){"use strict";(function(t){var o=i(4),a=i(3);function createMessageSpec(t,r,i,o){var a=t.getMessageFrame(r),u=a?a.size:8;return{address:r,id:i,bus:o,entries:[],frame:a,byteColors:Array(u).fill(0),byteStateChangeCounts:Array(u).fill(0)}}function determineByteStateChangeTimes(t,r,i,o){var a,u=Array(i).fill(0);if(o){a=o.byteStateChangeTimes;for(var c=0;c<a.length;c++){t.substr(2*c,2)!==o.hexData.substr(2*c,2)&&(a[c]=r,u[c]=1)}}else a=Array(i).fill(r);return{byteStateChangeTimes:a,byteStateChangeCounts:u}}function createMessageEntry(r,i,o,a,u,c){return{signals:r.getSignalValues(i,u),address:i,data:u,time:o,relTime:a,hexData:t.from(u).toString("hex"),byteStateChangeTimes:c,updated:Date.now()}}function parseMessage(r,i,o,a,u,c){var l;"string"===typeof a?(l=a,a=t.from(a,"hex")):l=t.from(a).toString("hex");var h=r.getMessageFrame(o),g=i-u,p=determineByteStateChangeTimes(l,g,h?h.size:Math.max(8,a.length),c),d=p.byteStateChangeTimes,m=p.byteStateChangeCounts;return{msgEntry:createMessageEntry(r,o,i,g,a,d),byteStateChangeCounts:m}}for(var u=[],c=0;c<512;c+=8)for(var l=7;l>-1;l--)u.push(c+l);r.a={bigEndianBitIndex:function bigEndianBitIndex(t){return u.indexOf(t)},addCanMessage:function addCanMessage(t,r,i,o,a,u){var c=t.address,l=t.busTime,h=t.data,g=t.bus,p="".concat(g,":").concat(c.toString(16));void 0===o[p]&&(o[p]=createMessageSpec(r,c,p,g));var d=o[p].entries.length>0?o[p].entries[o[p].entries.length-1]:a[p]||null;u[p]&&o[p].byteStateChangeCounts.every((function(t){return 0===t}))&&(o[p].byteStateChangeCounts=u[p]);var m=parseMessage(r,l,c,h,i,d),y=m.msgEntry,v=m.byteStateChangeCounts;return o[p].byteStateChangeCounts=v.map((function(t,r){return o[p].byteStateChangeCounts[r]+t})),o[p].entries.push(y),y},createMessageSpec:createMessageSpec,matrixBitNumber:function matrixBitNumber(t){return u[t]},parseMessage:parseMessage,reparseMessage:function reparseMessage(t,r,i){var o=t.getMessageFrame(r.address),u=o?o.size:8,c=determineByteStateChangeTimes(r.hexData,r.relTime,u,i),l=c.byteStateChangeTimes,h=c.byteStateChangeCounts;return{msgEntry:Object(a.a)(Object(a.a)({},r),{},{signals:t.getSignalValues(r.address,r.data),byteStateChangeTimes:l,updated:Date.now()}),byteStateChangeCounts:h}},findMaxByteStateChangeCount:function findMaxByteStateChangeCount(t){return Object.values(t).map((function(t){return t.byteStateChangeCounts})).reduce((function(t,r){return t.concat(r)}),[]).reduce((function(t,r){return t>r?t:r}),0)},setMessageByteColors:function setMessageByteColors(t,r){return t.byteColors=t.byteStateChangeCounts.map((function(t){return isNaN(t)?0:Math.min(255,75+t/r*180)})).map((function(t){return"rgb(".concat(Math.round(t),",0,0)")})),t},createMessageEntry:createMessageEntry,maxMessageSize:function maxMessageSize(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,u=a,c=Object(o.a)(r.entries);try{for(c.s();!(i=c.n()).done;){var l=i.value,h=t.from(l.hexData,"hex");h.length>u&&(u=h.length)}}catch(g){c.e(g)}finally{c.f()}return u}}}).call(this,i(13).Buffer)},function(t,r,i){"use strict";function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}i.d(r,"a",(function(){return _classCallCheck}))},function(t,r,i){"use strict";function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),t}i.d(r,"a",(function(){return _createClass}))},function(t,r,i){"use strict";function _defineProperty(t,r,i){return r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread2(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach((function(r){_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}i.d(r,"a",(function(){return _objectSpread2}))},function(t,r,i){"use strict";i.d(r,"a",(function(){return _createForOfIteratorHelper}));var o=i(6);function _createForOfIteratorHelper(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(o.a)(t))){var r=0,i=function F(){};return{s:i,n:function n(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u,c=!0,l=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();return c=t.done,t},e:function e(t){l=!0,u=t},f:function f(){try{c||null==a.return||a.return()}finally{if(l)throw u}}}}},function(t,r,i){"use strict";if("undefined"===typeof o)var o=self;var a=function _indexOf(t,r){for(var i=0;i<t.length;i++)if(r===t[i])return i;return-1};function LogStream(t){var r,i=t.trace?(Math.random()+Math.PI).toString(36).substring(2,10):null,u=t.page_info,c=t.token,l=t.print,h=t.no_format,g="undefined"===typeof XDomainRequest?t.ssl:"https:"===o.location.protocol;r=(g?"https://":"http://")+(r=o.LEENDPOINT?o.LEENDPOINT:h?"webhook.logentries.com/noformat":"js.logentries.com/v1")+"/logs/"+c;var p=[],d=!1,m=!1,y=function _apiCall(t,i){d=!0;var o=function _getAjaxObject(){return"undefined"!==typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest}();o.constructor===XMLHttpRequest?o.onreadystatechange=function(){4===o.readyState&&(o.status>=400?(console.error("Couldn't submit events."),410===o.status&&console.warn("This version of le_js is no longer supported!")):(301===o.status&&console.warn("This version of le_js is deprecated! Consider upgrading."),p.length>0?_apiCall(t,p.shift()):d=!1))}:o.onload=function(){p.length>0?_apiCall(t,p.shift()):d=!1},o.open("POST",r,!0),o.constructor===XMLHttpRequest&&(o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-type","application/json")),o.overrideMimeType&&o.overrideMimeType("text"),o.send(i)},v=function _getEvent(){var t=Array.prototype.slice.call(arguments);if(0===t.length)throw new Error("No arguments!");return 1===t.length?t[0]:t},b=function _agentInfo(){var t=o.navigator||{doNotTrack:void 0},r=o.screen||{};return{url:(o.location||{}).pathname,referrer:document.referrer,screen:{width:r.width,height:r.height},window:{width:o.innerWidth,height:o.innerHeight},browser:{name:t.appName,version:t.appVersion,cookie_enabled:t.cookieEnabled,do_not_track:t.doNotTrack},platform:t.platform}},_=function _rawLog(t){var r=v.apply(this,arguments),o={event:r};return"never"!==u&&(m&&"per-entry"!==u||(m=!0,"undefined"===typeof r.screen&&"undefined"===typeof r.browser&&_rawLog(b()).level("PAGE").send())),i&&(o.trace=i),{level:function level(t){if(l&&"undefined"!==typeof console&&"PAGE"!==t){var r=null;"undefined"!==typeof XDomainRequest&&(r=o.trace+" "+o.event);try{console[t.toLowerCase()].call(console,r||o)}catch(i){console.log(r||o)}}return o.level=t,{send:function send(){var t=[],r=JSON.stringify(o,(function(r,i){if("undefined"===typeof i)return"undefined";if("object"===typeof i&&null!==i){if(-1!==a(t,i))return"<?>";t.push(i)}return i}));d?p.push(r):y(c,r)}}}}};if(t.catchall){var w=o.onerror;o.onerror=function newHandler(t,r,i){return _({error:t,line:i,location:r}).level("ERROR").send(),!!w&&w(t,r,i)}}this.log=_}function Logger(t){var r,i={ssl:!0,catchall:!1,trace:!0,page_info:"never",print:!1,endpoint:null,token:null};if("object"!==typeof t)throw new Error("Invalid parameters for createLogStream()");for(var o in t)i[o]=t[o];if(null===i.token)throw new Error("Token not present.");r=new LogStream(i);var a=function _log(t){if(r)return r.log.apply(this,arguments);throw new Error("You must call LE.init(...) first.")};return{log:function log(){a.apply(this,arguments).level("LOG").send()},warn:function warn(){a.apply(this,arguments).level("WARN").send()},error:function error(){a.apply(this,arguments).level("ERROR").send()},info:function info(){a.apply(this,arguments).level("INFO").send()}}}var u={},c=function _createLogStream(t){if("string"!==typeof t.name)throw new Error("Name not present.");if(u.hasOwnProperty(t.name))throw new Error("A logger with that name already exists!");return u[t.name]=new Logger(t),!0};r.a={init:function _deprecatedInit(t){var r={name:"default"};if("object"===typeof t)for(var i in t)r[i]=t[i];else{if("string"!==typeof t)throw new Error("Invalid parameters for init()");r.token=t}return c(r)},createLogStream:c,to:function _getLogger(t){if(!u.hasOwnProperty(t))throw new Error("Invalid name for logStream");return u[t]},destroy:function _destroyLogStream(t){"undefined"===typeof t&&(t="default"),delete u[t]},log:function log(){for(var t in u)u[t].log.apply(this,arguments)},warn:function warn(){for(var t in u)u[t].warn.apply(this,arguments)},error:function error(){for(var t in u)u[t].error.apply(this,arguments)},info:function info(){for(var t in u)u[t].info.apply(this,arguments)}}},function(t,r,i){"use strict";function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function _unsupportedIterableToArray(t,r){if(t){if("string"===typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}i.d(r,"a",(function(){return _unsupportedIterableToArray}))},function(t,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(o){"object"===typeof window&&(i=window)}t.exports=i},function(t,r){t.exports=function extend(){for(var t={},r=0;r<arguments.length;r++){var o=arguments[r];for(var a in o)i.call(o,a)&&(t[a]=o[a])}return t};var i=Object.prototype.hasOwnProperty},function(t,r,i){"use strict";(function(t){var o=i(1),a=i(2),u=i(5),c=i(11),l=function(){function CloudLog(){Object(o.a)(this,CloudLog),u.a.init({token:c.a,no_format:!0,catchall:!1}),this.context={}}return Object(a.a)(CloudLog,[{key:"bind",value:function bind(t){this.context.update(t)}},{key:"emit",value:function emit(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";if("undefined"===typeof t.__JEST__){var o={ctx:this.context,created:(new Date).getTime()/1e3,msg:r,src:"JSCloudLog"};"log"===i?u.a.log(o):"warn"===i?u.a.warn(o):"error"===i&&u.a.error(o)}}},{key:"log",value:function log(t){this.emit(t)}},{key:"warn",value:function warn(t){this.emit(t,"warn")}},{key:"error",value:function error(t){this.emit(t,"error")}}]),CloudLog}();r.a=new l}).call(this,i(7))},function(t,r,i){(function(t){!function(i,o){var a=function(){var t=null,r={};!function loadColorBounds(){defineColor("monochrome",null,[[0,0],[100,0]]),defineColor("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),defineColor("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),defineColor("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),defineColor("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),defineColor("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),defineColor("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),defineColor("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}();var i=[];function pickHue(t){if(i.length>0){var o=randomWithin(c=function getRealHueRange(t){if(isNaN(t)){if("string"===typeof t)if(r[t]){var i=r[t];if(i.hueRange)return i.hueRange}else if(t.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){return getColorInfo(HexToHSB(t)[0]).hueRange}}else{var o=parseInt(t);if(o<360&&o>0)return getColorInfo(t).hueRange}return[0,360]}(t.hue)),a=(c[1]-c[0])/i.length,u=parseInt((o-c[0])/a);return!0===i[u]?u=(u+2)%i.length:i[u]=!0,(o=randomWithin(c=[(c[0]+u*a)%359,(c[0]+(u+1)*a)%359]))<0&&(o=360+o),o}var c;return(o=randomWithin(c=function getHueRange(t){if("number"===typeof parseInt(t)){var i=parseInt(t);if(i<360&&i>0)return[i,i]}if("string"===typeof t)if(r[t]){var o=r[t];if(o.hueRange)return o.hueRange}else if(t.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var a=HexToHSB(t)[0];return[a,a]}return[0,360]}(t.hue)))<0&&(o=360+o),o}function pickSaturation(t,r){if("monochrome"===r.hue)return 0;if("random"===r.luminosity)return randomWithin([0,100]);var i=function getSaturationRange(t){return getColorInfo(t).saturationRange}(t),o=i[0],a=i[1];switch(r.luminosity){case"bright":o=55;break;case"dark":o=a-10;break;case"light":a=55}return randomWithin([o,a])}function pickBrightness(t,r,i){var o=function getMinimumBrightness(t,r){for(var i=getColorInfo(t).lowerBounds,o=0;o<i.length-1;o++){var a=i[o][0],u=i[o][1],c=i[o+1][0],l=i[o+1][1];if(r>=a&&r<=c){var h=(l-u)/(c-a);return h*r+(u-h*a)}}return 0}(t,r),a=100;switch(i.luminosity){case"dark":a=o+20;break;case"light":o=(a+o)/2;break;case"random":o=0,a=100}return randomWithin([o,a])}function setFormat(t,r){switch(r.format){case"hsvArray":return t;case"hslArray":return HSVtoHSL(t);case"hsl":var i=HSVtoHSL(t);return"hsl("+i[0]+", "+i[1]+"%, "+i[2]+"%)";case"hsla":var o=HSVtoHSL(t),a=r.alpha||Math.random();return"hsla("+o[0]+", "+o[1]+"%, "+o[2]+"%, "+a+")";case"rgbArray":return HSVtoRGB(t);case"rgb":return"rgb("+HSVtoRGB(t).join(", ")+")";case"rgba":var u=HSVtoRGB(t);a=r.alpha||Math.random();return"rgba("+u.join(", ")+", "+a+")";default:return function HSVtoHex(t){var r=HSVtoRGB(t);function componentToHex(t){var r=t.toString(16);return 1==r.length?"0"+r:r}return"#"+componentToHex(r[0])+componentToHex(r[1])+componentToHex(r[2])}(t)}}function getColorInfo(t){for(var i in t>=334&&t<=360&&(t-=360),r){var o=r[i];if(o.hueRange&&t>=o.hueRange[0]&&t<=o.hueRange[1])return r[i]}return"Color not found"}function randomWithin(r){if(null===t){var i=Math.random();return i+=.618033988749895,i%=1,Math.floor(r[0]+i*(r[1]+1-r[0]))}var o=r[1]||1,a=r[0]||0,u=(t=(9301*t+49297)%233280)/233280;return Math.floor(a+u*(o-a))}function defineColor(t,i,o){var a=o[0][0],u=o[o.length-1][0],c=o[o.length-1][1],l=o[0][1];r[t]={hueRange:i,lowerBounds:o,saturationRange:[a,u],brightnessRange:[c,l]}}function HSVtoRGB(t){var r=t[0];0===r&&(r=1),360===r&&(r=359),r/=360;var i=t[1]/100,o=t[2]/100,a=Math.floor(6*r),u=6*r-a,c=o*(1-i),l=o*(1-u*i),h=o*(1-(1-u)*i),g=256,p=256,d=256;switch(a){case 0:g=o,p=h,d=c;break;case 1:g=l,p=o,d=c;break;case 2:g=c,p=o,d=h;break;case 3:g=c,p=l,d=o;break;case 4:g=h,p=c,d=o;break;case 5:g=o,p=c,d=l}return[Math.floor(255*g),Math.floor(255*p),Math.floor(255*d)]}function HexToHSB(t){t=3===(t=t.replace(/^#/,"")).length?t.replace(/(.)/g,"$1$1"):t;var r=parseInt(t.substr(0,2),16)/255,i=parseInt(t.substr(2,2),16)/255,o=parseInt(t.substr(4,2),16)/255,a=Math.max(r,i,o),u=a-Math.min(r,i,o),c=a?u/a:0;switch(a){case r:return[(i-o)/u%6*60||0,c,a];case i:return[60*((o-r)/u+2)||0,c,a];case o:return[60*((r-i)/u+4)||0,c,a]}}function HSVtoHSL(t){var r=t[0],i=t[1]/100,o=t[2]/100,a=(2-i)*o;return[r,Math.round(i*o/(a<1?a:2-a)*1e4)/100,a/2*100]}return function randomColor(r){if(void 0!==(r=r||{}).seed&&null!==r.seed&&r.seed===parseInt(r.seed,10))t=r.seed;else if("string"===typeof r.seed)t=function stringToInteger(t){for(var r=0,i=0;i!==t.length&&!(r>=Number.MAX_SAFE_INTEGER);i++)r+=t.charCodeAt(i);return r}(r.seed);else{if(void 0!==r.seed&&null!==r.seed)throw new TypeError("The seed value must be an integer or string");t=null}var o,a;if(null!==r.count&&void 0!==r.count){for(var u=r.count,c=[],l=0;l<r.count;l++)i.push(!1);for(r.count=null;u>c.length;)t&&r.seed&&(r.seed+=1),c.push(randomColor(r));return r.count=u,c}return setFormat([o=pickHue(r),a=pickSaturation(o,r),pickBrightness(o,a,r)],r)}}();t&&t.exports&&(r=t.exports=a),r.randomColor=a}()}).call(this,i(12)(t))},function(t,r,i){"use strict";i.d(r,"a",(function(){return o}));i(3);"undefined"!==typeof window&&function getUrlParameter(t){var r=window.location;t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]".concat(t,"=([^&#]*)")).exec(r.search);return null===i?null:decodeURIComponent(i[1].replace(/\+/g," "))}("unlogger");var o="4bc98019-8277-4fe0-867c-ed21ea843cc5"},function(t,r){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function get(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function get(){return t.i}}),t.webpackPolyfill=1),t}},function(t,r,i){"use strict";(function(t){var o=i(14),a=i(15),u=i(16);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,r){if(kMaxLength()<r)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=Buffer.prototype:(null===t&&(t=new Buffer(r)),t.length=r),t}function Buffer(t,r,i){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(t,r,i);if("number"===typeof t){if("string"===typeof r)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,r,i)}function from(t,r,i,o){if("number"===typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&r instanceof ArrayBuffer?function fromArrayBuffer(t,r,i,o){if(r.byteLength,i<0||r.byteLength<i)throw new RangeError("'offset' is out of bounds");if(r.byteLength<i+(o||0))throw new RangeError("'length' is out of bounds");r=void 0===i&&void 0===o?new Uint8Array(r):void 0===o?new Uint8Array(r,i):new Uint8Array(r,i,o);Buffer.TYPED_ARRAY_SUPPORT?(t=r).__proto__=Buffer.prototype:t=fromArrayLike(t,r);return t}(t,r,i,o):"string"===typeof r?function fromString(t,r,i){"string"===typeof i&&""!==i||(i="utf8");if(!Buffer.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var o=0|byteLength(r,i),a=(t=createBuffer(t,o)).write(r,i);a!==o&&(t=t.slice(0,a));return t}(t,r,i):function fromObject(t,r){if(Buffer.isBuffer(r)){var i=0|checked(r.length);return 0===(t=createBuffer(t,i)).length||r.copy(t,0,0,i),t}if(r){if("undefined"!==typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!==typeof r.length||function isnan(t){return t!==t}(r.length)?createBuffer(t,0):fromArrayLike(t,r);if("Buffer"===r.type&&u(r.data))return fromArrayLike(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,r)}function assertSize(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(t,r){if(assertSize(r),t=createBuffer(t,r<0?0:0|checked(r)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<r;++i)t[i]=0;return t}function fromArrayLike(t,r){var i=r.length<0?0:0|checked(r.length);t=createBuffer(t,i);for(var o=0;o<i;o+=1)t[o]=255&r[o];return t}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function byteLength(t,r){if(Buffer.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var o=!1;;)switch(r){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return base64ToBytes(t).length;default:if(o)return utf8ToBytes(t).length;r=(""+r).toLowerCase(),o=!0}}function slowToString(t,r,i){var o=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,r,i);case"utf8":case"utf-8":return utf8Slice(this,r,i);case"ascii":return asciiSlice(this,r,i);case"latin1":case"binary":return latin1Slice(this,r,i);case"base64":return base64Slice(this,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,r,i);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function swap(t,r,i){var o=t[r];t[r]=t[i],t[i]=o}function bidirectionalIndexOf(t,r,i,o,a){if(0===t.length)return-1;if("string"===typeof i?(o=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=a?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(a)return-1;i=t.length-1}else if(i<0){if(!a)return-1;i=0}if("string"===typeof r&&(r=Buffer.from(r,o)),Buffer.isBuffer(r))return 0===r.length?-1:arrayIndexOf(t,r,i,o,a);if("number"===typeof r)return r&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,r,i):Uint8Array.prototype.lastIndexOf.call(t,r,i):arrayIndexOf(t,[r],i,o,a);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,r,i,o,a){var u,c=1,l=t.length,h=r.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||r.length<2)return-1;c=2,l/=2,h/=2,i/=2}function read(t,r){return 1===c?t[r]:t.readUInt16BE(r*c)}if(a){var g=-1;for(u=i;u<l;u++)if(read(t,u)===read(r,-1===g?0:u-g)){if(-1===g&&(g=u),u-g+1===h)return g*c}else-1!==g&&(u-=u-g),g=-1}else for(i+h>l&&(i=l-h),u=i;u>=0;u--){for(var p=!0,d=0;d<h;d++)if(read(t,u+d)!==read(r,d)){p=!1;break}if(p)return u}return-1}function hexWrite(t,r,i,o){i=Number(i)||0;var a=t.length-i;o?(o=Number(o))>a&&(o=a):o=a;var u=r.length;if(u%2!==0)throw new TypeError("Invalid hex string");o>u/2&&(o=u/2);for(var c=0;c<o;++c){var l=parseInt(r.substr(2*c,2),16);if(isNaN(l))return c;t[i+c]=l}return c}function utf8Write(t,r,i,o){return blitBuffer(utf8ToBytes(r,t.length-i),t,i,o)}function asciiWrite(t,r,i,o){return blitBuffer(function asciiToBytes(t){for(var r=[],i=0;i<t.length;++i)r.push(255&t.charCodeAt(i));return r}(r),t,i,o)}function latin1Write(t,r,i,o){return asciiWrite(t,r,i,o)}function base64Write(t,r,i,o){return blitBuffer(base64ToBytes(r),t,i,o)}function ucs2Write(t,r,i,o){return blitBuffer(function utf16leToBytes(t,r){for(var i,o,a,u=[],c=0;c<t.length&&!((r-=2)<0);++c)i=t.charCodeAt(c),o=i>>8,a=i%256,u.push(a),u.push(o);return u}(r,t.length-i),t,i,o)}function base64Slice(t,r,i){return 0===r&&i===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(r,i))}function utf8Slice(t,r,i){i=Math.min(t.length,i);for(var o=[],a=r;a<i;){var u,c,l,h,g=t[a],p=null,d=g>239?4:g>223?3:g>191?2:1;if(a+d<=i)switch(d){case 1:g<128&&(p=g);break;case 2:128===(192&(u=t[a+1]))&&(h=(31&g)<<6|63&u)>127&&(p=h);break;case 3:u=t[a+1],c=t[a+2],128===(192&u)&&128===(192&c)&&(h=(15&g)<<12|(63&u)<<6|63&c)>2047&&(h<55296||h>57343)&&(p=h);break;case 4:u=t[a+1],c=t[a+2],l=t[a+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(h=(15&g)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&h<1114112&&(p=h)}null===p?(p=65533,d=1):p>65535&&(p-=65536,o.push(p>>>10&1023|55296),p=56320|1023&p),o.push(p),a+=d}return function decodeCodePointsArray(t){var r=t.length;if(r<=4096)return String.fromCharCode.apply(String,t);var i="",o=0;for(;o<r;)i+=String.fromCharCode.apply(String,t.slice(o,o+=4096));return i}(o)}r.Buffer=Buffer,r.SlowBuffer=function SlowBuffer(t){+t!=t&&(t=0);return Buffer.alloc(+t)},r.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function foo(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}(),r.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,r,i){return from(null,t,r,i)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(t,r,i){return function alloc(t,r,i,o){return assertSize(r),r<=0?createBuffer(t,r):void 0!==i?"string"===typeof o?createBuffer(t,r).fill(i,o):createBuffer(t,r).fill(i):createBuffer(t,r)}(null,t,r,i)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=function isBuffer(t){return!(null==t||!t._isBuffer)},Buffer.compare=function compare(t,r){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var i=t.length,o=r.length,a=0,u=Math.min(i,o);a<u;++a)if(t[a]!==r[a]){i=t[a],o=r[a];break}return i<o?-1:o<i?1:0},Buffer.isEncoding=function isEncoding(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(t,r){if(!u(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);var i;if(void 0===r)for(r=0,i=0;i<t.length;++i)r+=t[i].length;var o=Buffer.allocUnsafe(r),a=0;for(i=0;i<t.length;++i){var c=t[i];if(!Buffer.isBuffer(c))throw new TypeError('"list" argument must be an Array of Buffers');c.copy(o,a),a+=c.length}return o},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)swap(this,r,r+1);return this},Buffer.prototype.swap32=function swap32(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)swap(this,r,r+3),swap(this,r+1,r+2);return this},Buffer.prototype.swap64=function swap64(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)swap(this,r,r+7),swap(this,r+1,r+6),swap(this,r+2,r+5),swap(this,r+3,r+4);return this},Buffer.prototype.toString=function toString(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function inspect(){var t="",i=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function compare(t,r,i,o,a){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===i&&(i=t?t.length:0),void 0===o&&(o=0),void 0===a&&(a=this.length),r<0||i>t.length||o<0||a>this.length)throw new RangeError("out of range index");if(o>=a&&r>=i)return 0;if(o>=a)return-1;if(r>=i)return 1;if(this===t)return 0;for(var u=(a>>>=0)-(o>>>=0),c=(i>>>=0)-(r>>>=0),l=Math.min(u,c),h=this.slice(o,a),g=t.slice(r,i),p=0;p<l;++p)if(h[p]!==g[p]){u=h[p],c=g[p];break}return u<c?-1:c<u?1:0},Buffer.prototype.includes=function includes(t,r,i){return-1!==this.indexOf(t,r,i)},Buffer.prototype.indexOf=function indexOf(t,r,i){return bidirectionalIndexOf(this,t,r,i,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(t,r,i){return bidirectionalIndexOf(this,t,r,i,!1)},Buffer.prototype.write=function write(t,r,i,o){if(void 0===r)o="utf8",i=this.length,r=0;else if(void 0===i&&"string"===typeof r)o=r,i=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(i)?(i|=0,void 0===o&&(o="utf8")):(o=i,i=void 0)}var a=this.length-r;if((void 0===i||i>a)&&(i=a),t.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var u=!1;;)switch(o){case"hex":return hexWrite(this,t,r,i);case"utf8":case"utf-8":return utf8Write(this,t,r,i);case"ascii":return asciiWrite(this,t,r,i);case"latin1":case"binary":return latin1Write(this,t,r,i);case"base64":return base64Write(this,t,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,r,i);default:if(u)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),u=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function asciiSlice(t,r,i){var o="";i=Math.min(t.length,i);for(var a=r;a<i;++a)o+=String.fromCharCode(127&t[a]);return o}function latin1Slice(t,r,i){var o="";i=Math.min(t.length,i);for(var a=r;a<i;++a)o+=String.fromCharCode(t[a]);return o}function hexSlice(t,r,i){var o=t.length;(!r||r<0)&&(r=0),(!i||i<0||i>o)&&(i=o);for(var a="",u=r;u<i;++u)a+=toHex(t[u]);return a}function utf16leSlice(t,r,i){for(var o=t.slice(r,i),a="",u=0;u<o.length;u+=2)a+=String.fromCharCode(o[u]+256*o[u+1]);return a}function checkOffset(t,r,i){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+r>i)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,r,i,o,a,u){if(!Buffer.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>a||r<u)throw new RangeError('"value" argument is out of bounds');if(i+o>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,r,i,o){r<0&&(r=65535+r+1);for(var a=0,u=Math.min(t.length-i,2);a<u;++a)t[i+a]=(r&255<<8*(o?a:1-a))>>>8*(o?a:1-a)}function objectWriteUInt32(t,r,i,o){r<0&&(r=4294967295+r+1);for(var a=0,u=Math.min(t.length-i,4);a<u;++a)t[i+a]=r>>>8*(o?a:3-a)&255}function checkIEEE754(t,r,i,o,a,u){if(i+o>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function writeFloat(t,r,i,o,u){return u||checkIEEE754(t,0,i,4),a.write(t,r,i,o,23,4),i+4}function writeDouble(t,r,i,o,u){return u||checkIEEE754(t,0,i,8),a.write(t,r,i,o,52,8),i+8}Buffer.prototype.slice=function slice(t,r){var i,o=this.length;if((t=~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),(r=void 0===r?o:~~r)<0?(r+=o)<0&&(r=0):r>o&&(r=o),r<t&&(r=t),Buffer.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,r)).__proto__=Buffer.prototype;else{var a=r-t;i=new Buffer(a,void 0);for(var u=0;u<a;++u)i[u]=this[u+t]}return i},Buffer.prototype.readUIntLE=function readUIntLE(t,r,i){t|=0,r|=0,i||checkOffset(t,r,this.length);for(var o=this[t],a=1,u=0;++u<r&&(a*=256);)o+=this[t+u]*a;return o},Buffer.prototype.readUIntBE=function readUIntBE(t,r,i){t|=0,r|=0,i||checkOffset(t,r,this.length);for(var o=this[t+--r],a=1;r>0&&(a*=256);)o+=this[t+--r]*a;return o},Buffer.prototype.readUInt8=function readUInt8(t,r){return r||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function readUInt16LE(t,r){return r||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(t,r){return r||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(t,r){return r||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(t,r){return r||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function readIntLE(t,r,i){t|=0,r|=0,i||checkOffset(t,r,this.length);for(var o=this[t],a=1,u=0;++u<r&&(a*=256);)o+=this[t+u]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*r)),o},Buffer.prototype.readIntBE=function readIntBE(t,r,i){t|=0,r|=0,i||checkOffset(t,r,this.length);for(var o=r,a=1,u=this[t+--o];o>0&&(a*=256);)u+=this[t+--o]*a;return u>=(a*=128)&&(u-=Math.pow(2,8*r)),u},Buffer.prototype.readInt8=function readInt8(t,r){return r||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function readInt16LE(t,r){r||checkOffset(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},Buffer.prototype.readInt16BE=function readInt16BE(t,r){r||checkOffset(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},Buffer.prototype.readInt32LE=function readInt32LE(t,r){return r||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(t,r){return r||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function readFloatLE(t,r){return r||checkOffset(t,4,this.length),a.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(t,r){return r||checkOffset(t,4,this.length),a.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(t,r){return r||checkOffset(t,8,this.length),a.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(t,r){return r||checkOffset(t,8,this.length),a.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(t,r,i,o){(t=+t,r|=0,i|=0,o)||checkInt(this,t,r,i,Math.pow(2,8*i)-1,0);var a=1,u=0;for(this[r]=255&t;++u<i&&(a*=256);)this[r+u]=t/a&255;return r+i},Buffer.prototype.writeUIntBE=function writeUIntBE(t,r,i,o){(t=+t,r|=0,i|=0,o)||checkInt(this,t,r,i,Math.pow(2,8*i)-1,0);var a=i-1,u=1;for(this[r+a]=255&t;--a>=0&&(u*=256);)this[r+a]=t/u&255;return r+i},Buffer.prototype.writeUInt8=function writeUInt8(t,r,i){return t=+t,r|=0,i||checkInt(this,t,r,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(t,r,i){return t=+t,r|=0,i||checkInt(this,t,r,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):objectWriteUInt16(this,t,r,!0),r+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(t,r,i){return t=+t,r|=0,i||checkInt(this,t,r,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):objectWriteUInt16(this,t,r,!1),r+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(t,r,i){return t=+t,r|=0,i||checkInt(this,t,r,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):objectWriteUInt32(this,t,r,!0),r+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(t,r,i){return t=+t,r|=0,i||checkInt(this,t,r,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):objectWriteUInt32(this,t,r,!1),r+4},Buffer.prototype.writeIntLE=function writeIntLE(t,r,i,o){if(t=+t,r|=0,!o){var a=Math.pow(2,8*i-1);checkInt(this,t,r,i,a-1,-a)}var u=0,c=1,l=0;for(this[r]=255&t;++u<i&&(c*=256);)t<0&&0===l&&0!==this[r+u-1]&&(l=1),this[r+u]=(t/c>>0)-l&255;return r+i},Buffer.prototype.writeIntBE=function writeIntBE(t,r,i,o){if(t=+t,r|=0,!o){var a=Math.pow(2,8*i-1);checkInt(this,t,r,i,a-1,-a)}var u=i-1,c=1,l=0;for(this[r+u]=255&t;--u>=0&&(c*=256);)t<0&&0===l&&0!==this[r+u+1]&&(l=1),this[r+u]=(t/c>>0)-l&255;return r+i},Buffer.prototype.writeInt8=function writeInt8(t,r,i){return t=+t,r|=0,i||checkInt(this,t,r,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},Buffer.prototype.writeInt16LE=function writeInt16LE(t,r,i){return t=+t,r|=0,i||checkInt(this,t,r,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):objectWriteUInt16(this,t,r,!0),r+2},Buffer.prototype.writeInt16BE=function writeInt16BE(t,r,i){return t=+t,r|=0,i||checkInt(this,t,r,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):objectWriteUInt16(this,t,r,!1),r+2},Buffer.prototype.writeInt32LE=function writeInt32LE(t,r,i){return t=+t,r|=0,i||checkInt(this,t,r,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):objectWriteUInt32(this,t,r,!0),r+4},Buffer.prototype.writeInt32BE=function writeInt32BE(t,r,i){return t=+t,r|=0,i||checkInt(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):objectWriteUInt32(this,t,r,!1),r+4},Buffer.prototype.writeFloatLE=function writeFloatLE(t,r,i){return writeFloat(this,t,r,!0,i)},Buffer.prototype.writeFloatBE=function writeFloatBE(t,r,i){return writeFloat(this,t,r,!1,i)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(t,r,i){return writeDouble(this,t,r,!0,i)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(t,r,i){return writeDouble(this,t,r,!1,i)},Buffer.prototype.copy=function copy(t,r,i,o){if(i||(i=0),o||0===o||(o=this.length),r>=t.length&&(r=t.length),r||(r=0),o>0&&o<i&&(o=i),o===i)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-r<o-i&&(o=t.length-r+i);var a,u=o-i;if(this===t&&i<r&&r<o)for(a=u-1;a>=0;--a)t[a+r]=this[a+i];else if(u<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(a=0;a<u;++a)t[a+r]=this[a+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+u),r);return u},Buffer.prototype.fill=function fill(t,r,i,o){if("string"===typeof t){if("string"===typeof r?(o=r,r=0,i=this.length):"string"===typeof i&&(o=i,i=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==o&&"string"!==typeof o)throw new TypeError("encoding must be a string");if("string"===typeof o&&!Buffer.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"===typeof t&&(t&=255);if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;var u;if(r>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"===typeof t)for(u=r;u<i;++u)this[u]=t;else{var c=Buffer.isBuffer(t)?t:utf8ToBytes(new Buffer(t,o).toString()),l=c.length;for(u=0;u<i-r;++u)this[u+r]=c[u%l]}return this};var c=/[^+\/0-9A-Za-z-_]/g;function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,r){var i;r=r||1/0;for(var o=t.length,a=null,u=[],c=0;c<o;++c){if((i=t.charCodeAt(c))>55295&&i<57344){if(!a){if(i>56319){(r-=3)>-1&&u.push(239,191,189);continue}if(c+1===o){(r-=3)>-1&&u.push(239,191,189);continue}a=i;continue}if(i<56320){(r-=3)>-1&&u.push(239,191,189),a=i;continue}i=65536+(a-55296<<10|i-56320)}else a&&(r-=3)>-1&&u.push(239,191,189);if(a=null,i<128){if((r-=1)<0)break;u.push(i)}else if(i<2048){if((r-=2)<0)break;u.push(i>>6|192,63&i|128)}else if(i<65536){if((r-=3)<0)break;u.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;u.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return u}function base64ToBytes(t){return o.toByteArray(function base64clean(t){if((t=function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(c,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function blitBuffer(t,r,i,o){for(var a=0;a<o&&!(a+i>=r.length||a>=t.length);++a)r[a+i]=t[a];return a}}).call(this,i(7))},function(t,r,i){"use strict";r.byteLength=function byteLength(t){var r=getLens(t),i=r[0],o=r[1];return 3*(i+o)/4-o},r.toByteArray=function toByteArray(t){var r,i,o=getLens(t),c=o[0],l=o[1],h=new u(function _byteLength(t,r,i){return 3*(r+i)/4-i}(0,c,l)),g=0,p=l>0?c-4:c;for(i=0;i<p;i+=4)r=a[t.charCodeAt(i)]<<18|a[t.charCodeAt(i+1)]<<12|a[t.charCodeAt(i+2)]<<6|a[t.charCodeAt(i+3)],h[g++]=r>>16&255,h[g++]=r>>8&255,h[g++]=255&r;2===l&&(r=a[t.charCodeAt(i)]<<2|a[t.charCodeAt(i+1)]>>4,h[g++]=255&r);1===l&&(r=a[t.charCodeAt(i)]<<10|a[t.charCodeAt(i+1)]<<4|a[t.charCodeAt(i+2)]>>2,h[g++]=r>>8&255,h[g++]=255&r);return h},r.fromByteArray=function fromByteArray(t){for(var r,i=t.length,a=i%3,u=[],c=0,l=i-a;c<l;c+=16383)u.push(encodeChunk(t,c,c+16383>l?l:c+16383));1===a?(r=t[i-1],u.push(o[r>>2]+o[r<<4&63]+"==")):2===a&&(r=(t[i-2]<<8)+t[i-1],u.push(o[r>>10]+o[r>>4&63]+o[r<<2&63]+"="));return u.join("")};for(var o=[],a=[],u="undefined"!==typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,h=c.length;l<h;++l)o[l]=c[l],a[c.charCodeAt(l)]=l;function getLens(t){var r=t.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=r),[i,i===r?0:4-i%4]}function encodeChunk(t,r,i){for(var a,u,c=[],l=r;l<i;l+=3)a=(t[l]<<16&16711680)+(t[l+1]<<8&65280)+(255&t[l+2]),c.push(o[(u=a)>>18&63]+o[u>>12&63]+o[u>>6&63]+o[63&u]);return c.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(t,r){r.read=function(t,r,i,o,a){var u,c,l=8*a-o-1,h=(1<<l)-1,g=h>>1,p=-7,d=i?a-1:0,m=i?-1:1,y=t[r+d];for(d+=m,u=y&(1<<-p)-1,y>>=-p,p+=l;p>0;u=256*u+t[r+d],d+=m,p-=8);for(c=u&(1<<-p)-1,u>>=-p,p+=o;p>0;c=256*c+t[r+d],d+=m,p-=8);if(0===u)u=1-g;else{if(u===h)return c?NaN:1/0*(y?-1:1);c+=Math.pow(2,o),u-=g}return(y?-1:1)*c*Math.pow(2,u-o)},r.write=function(t,r,i,o,a,u){var c,l,h,g=8*u-a-1,p=(1<<g)-1,d=p>>1,m=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,y=o?0:u-1,v=o?1:-1,b=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(l=isNaN(r)?1:0,c=p):(c=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-c))<1&&(c--,h*=2),(r+=c+d>=1?m/h:m*Math.pow(2,1-d))*h>=2&&(c++,h/=2),c+d>=p?(l=0,c=p):c+d>=1?(l=(r*h-1)*Math.pow(2,a),c+=d):(l=r*Math.pow(2,d-1)*Math.pow(2,a),c=0));a>=8;t[i+y]=255&l,y+=v,l/=256,a-=8);for(c=c<<a|l,g+=a;g>0;t[i+y]=255&c,y+=v,c/=256,g-=8);t[i+y-v]|=128*b}},function(t,r){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,r,i){"use strict";i.r(r);var o=i(8),a=i.n(o);var u=i(6);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],o=!0,a=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(o=(c=l.next()).done)&&(i.push(c.value),!r||i.length!==r);o=!0);}catch(h){a=!0,u=h}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}return i}}(t,r)||Object(u.a)(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=i(4),l=i(1),h=i(2),g=i(9),p=i(10),d=i.n(p),m=i(0),y=function(){function Signal(t){var r=t.name,i=t.startBit,o=void 0===i?0:i,a=t.size,u=void 0===a?0:a,c=t.isLittleEndian,h=void 0===c||c,g=t.isSigned,p=void 0!==g&&g,d=t.isFloat,m=void 0!==d&&d,y=t.factor,v=void 0===y?1:y,b=t.offset,_=void 0===b?0:b,w=t.unit,B=void 0===w?"":w,E=t.receiver,S=void 0===E?["XXX"]:E,A=t.comment,T=void 0===A?null:A,I=t.multiplex,C=void 0===I?null:I,O=t.min,k=void 0===O?null:O,x=t.max,M=void 0===x?null:x,R=t.valueDescriptions,L=void 0===R?new Map:R;Object(l.a)(this,Signal),Object.assign(this,{name:r,startBit:o,size:u,isLittleEndian:h,isSigned:p,isFloat:m,factor:v,offset:_,unit:B,receiver:S,comment:T,multiplex:C,valueDescriptions:L});var U=Math.random().toString(36);null==k&&(k=this.calculateMin()),null==M&&(M=this.calculateMax());var P=this.generateColors();Object.assign(this,{min:k,max:M,uid:U,_colors:P}),Object.defineProperty(this,"colors",{get:function get(){return console.error("Something is still using the old colors"),P},enumberable:!1})}return Object(h.a)(Signal,[{key:"text",value:function text(){var t=this.multiplex?" ".concat(this.multiplex):"",r=this.isLittleEndian?1:0,i=this.isSigned?"-":"+";return"SG_ ".concat(this.name).concat(t," : ")+"".concat(this.startBit,"|").concat(this.size,"@").concat(r).concat(i)+" (".concat(this.factor,",").concat(this.offset,")")+" [".concat(this.min,"|").concat(this.max,"]")+' "'.concat(this.unit,'" ').concat(this.receiver)}},{key:"valueDescriptionText",value:function valueDescriptionText(t){var r=Array.from(this.valueDescriptions.entries()).reduce((function(t,r){var i=_slicedToArray(r,2),o=i[0],a=i[1];return"".concat(t+o,' "').concat(a,'" ')}),"");return"VAL_ ".concat(t," ").concat(this.name," ").concat(r,";")}},{key:"lsbBitIndex",value:function lsbBitIndex(){if(this.isLittleEndian)return this.startBit;var t=this.lsbBitNumber();return m.a.matrixBitNumber(t)}},{key:"lsbBitNumber",value:function lsbBitNumber(){return m.a.bigEndianBitIndex(this.startBit)+this.size-1}},{key:"msbBitIndex",value:function msbBitIndex(){return this.isLittleEndian?this.startBit+this.size-1:this.startBit}},{key:"littleEndianBitDescription",value:function littleEndianBitDescription(t){var r=[this.startBit,this.startBit+this.size-1];return t<r[0]||t>r[1]?null:{bitNumber:t-r[0],isLsb:t===r[0],isMsb:t===r[1]}}},{key:"bigEndianBitDescription",value:function bigEndianBitDescription(t){var r=m.a.bigEndianBitIndex(this.startBit),i=[r,r+this.size-1],o=m.a.bigEndianBitIndex(t);return o<i[0]||o>i[1]?null:{bitNumber:o,isLsb:o===i[1],isMsb:t===this.startBit,range:i}}},{key:"bitDescription",value:function bitDescription(t){return this.isLittleEndian?this.littleEndianBitDescription(t):this.bigEndianBitDescription(t)}},{key:"calculateRawRange",value:function calculateRawRange(){var t=Math.pow(2,this.size);return this.isSigned&&(t/=2),[this.isSigned?-1*t:0,t-1]}},{key:"calculateMin",value:function calculateMin(){var t=this.calculateRawRange()[0];return this.offset+t*this.factor}},{key:"calculateMax",value:function calculateMax(){var t=this.calculateRawRange()[1];return this.offset+t*this.factor}},{key:"getColors",value:function getColors(t){var r=t.split(":").map((function(t){return 3*(3+Number.parseInt(t,16))%253})),i=this._colors||this.generateColors(),o=0;return i.map((function(t){return r=r.map((function(t){return t^o})),o=r.reduce((function(t,r){return t^r}),t)}))}},{key:"generateColors",value:function generateColors(){return d()({format:"rgbArray"})}},{key:"equals",value:function equals(t){var r=this;return t.name===this.name&&t.startBit===this.startBit&&t.size===this.size&&t.isLittleEndian===this.isLittleEndian&&t.isSigned===this.isSigned&&t.isFloat===this.isFloat&&t.factor===this.factor&&t.offset===this.offset&&t.unit===this.unit&&t.receiver.length===this.receiver.length&&t.receiver.every((function(t,i){return t===r.receiver[i]}))&&t.comment===this.comment&&t.multiplex===this.multiplex}}]),Signal}(),v=function(){function Frame(t){var r=t.name,i=t.id,o=void 0===i?0:i,a=t.size,u=void 0===a?0:a,c=t.transmitters,h=void 0===c?[]:c,g=t.extended,p=void 0===g?0:g,d=t.comment,m=void 0===d?null:d,y=t.signals,v=void 0===y?{}:y;Object(l.a)(this,Frame),Object.assign(this,{name:r,id:o,size:u,transmitters:h,extended:p,comment:m,signals:v})}return Object(h.a)(Frame,[{key:"nextNewTransmitterName",value:function nextNewTransmitterName(){var t,r=1;do{t="NEW_TRANSMITTER_".concat(r),r++}while(-1!==this.transmitters.indexOf(t));return t}},{key:"addTransmitter",value:function addTransmitter(){var t=this.nextNewTransmitterName();return this.transmitters.push(t),t}},{key:"header",value:function header(){return"BO_ ".concat(this.id," ").concat(this.name,": ").concat(this.size," ")+"".concat(this.transmitters[0]||"XXX")}},{key:"text",value:function text(){var t=Object.values(this.signals).map((function(t){return" ".concat(t.text())})).join("\n");return t.length>0?"".concat(this.header(),"\n").concat(t):this.header()}},{key:"copy",value:function copy(){var copy=Object.assign(Object.create(this),this);return copy}}]),Frame}(),b=function(){function BoardUnit(t){Object(l.a)(this,BoardUnit),this.name=t,this.attributes={},this.comment=null}return Object(h.a)(BoardUnit,[{key:"text",value:function text(){return this.name}}]),BoardUnit}(),_=/^CM_ *"(.*)";/,w=/^CM_ *"(.*)/,B=/^BO_ (\w+) (\w+) *: (\w+) (\w+)/,E=/^SG_ (\w+) : (\d+)\|(\d+)@(\d+)([+|-]) \(([0-9.+-eE]+),([0-9.+-eE]+)\) \[([0-9.+-eE]+)\|([0-9.+-eE]+)\] "(.*)" (.*)/,S=/^SG_ (\w+) (\w+) *: (\d+)\|(\d+)@(\d+)([+|-]) \(([0-9.+-eE]+),([0-9.+-eE]+)\) \[([0-9.+-eE]+)\|([0-9.+-eE]+)\] "(.*)" (.*)/,A=/^VAL_ (\w+) (\w+) (.*);/,T=/^VAL_TABLE_ (\w+) (.*);/,I=/^BO_TX_BU_ ([0-9]+) *: *(.+);/,C=/^CM_ SG_ *(\w+) *(\w+) *"(.*)";/,O=/^CM_ SG_ *(\w+) *(\w+) *"(.*)/,k=/^CM_ BO_ *(\w+) *"(.*)";/,x=/^CM_ BO_ *(\w+) *"(.*)/,M=/^BU_:(.*)/,R=/^CM_ BU_ *(\w+) *"(.*)";/,L=/^CM_ BU_ *(\w+) *"(.*)/;function floatOrInt(t){return Number.isInteger(t)?parseInt(t,10):parseFloat(t)}var U=function(){function DBC(t){Object(l.a)(this,DBC),this.boardUnits=[],this.comments=[],this.messages=new Map,void 0!==t&&(this.dbcText=t,this.importDbcString(t))}return Object(h.a)(DBC,[{key:"getMessageFrame",value:function getMessageFrame(t){return this.messages.get(t)}},{key:"nextNewFrameName",value:function nextNewFrameName(){var t,r=[],i=Object(c.a)(this.messages.values());try{for(i.s();!(t=i.n()).done;){var o=t.value;r.push(o.name)}}catch(l){i.e(l)}finally{i.f()}var a,u=1;do{a="NEW_MSG_".concat(u),u++}while(-1!==r.indexOf(a));return a}},{key:"updateBoardUnits",value:function updateBoardUnits(){var t=this.boardUnits.map((function(t){return t.name})),r=Array.from(this.messages.entries()).map((function(t){var r=_slicedToArray(t,2),i=(r[0],r[1]);return Object.values(i.signals)})).reduce((function(t,r){return t.concat(r)}),[]).map((function(t){return t.receiver})).reduce((function(t,r){return t.concat(r)}),[]).filter((function(t,r,i){return i.indexOf(t)===r})).filter((function(r){return-1===t.indexOf(r)})).map((function(t){return new b(t)}));this.boardUnits=this.boardUnits.concat(r)}},{key:"text",value:function text(){this.updateBoardUnits();var t='VERSION ""\n\n\n';t+="NS_ :".concat(this._newSymbols()),t+="\n\nBS_:\n";var r=this.boardUnits.map((function(t){return t.text()})).join(" ");t+="\nBU_: ".concat(r,"\n\n\n");var i,o=[],a=Object(c.a)(this.messages.values());try{for(a.s();!(i=a.n()).done;){var u=i.value;o.push(u)}}catch(g){a.e(g)}finally{a.f()}t+="".concat(o.map((function(t){return t.text()})).join("\n\n"),"\n\n");var l=o.map((function(t){return[t.id,t.transmitters.slice(1)]})).filter((function(t){var r=_slicedToArray(t,2);r[0];return r[1].length>0}));t+="".concat(l.map((function(t){var r=_slicedToArray(t,2),i=r[0],o=r[1];return"BO_TX_BU_ ".concat(i," : ").concat(o.join(","),";")})).join("\n"),"\n\n\n"),t+=this.boardUnits.filter((function(t){return null!==t.comment})).map((function(t){return"CM_ BU_ ".concat(t.name,' "').concat(t.comment,'";')})).join("\n"),t+=o.filter((function(t){return null!==t.comment})).map((function(t){return"CM_ BO_ ".concat(t.address,' "').concat(t.comment,'";')})).join("\n");var h=o.map((function(t){return Object.values(t.signals).map((function(r){return[t.id,r]}))})).reduce((function(t,r){return t.concat(r)}),[]);return t+="".concat(h.filter((function(t){var r=_slicedToArray(t,2);r[0];return null!==r[1].comment})).map((function(t){var r=_slicedToArray(t,2),i=r[0],o=r[1];return"CM_ SG_ ".concat(i," ").concat(o.name,' "').concat(o.comment,'";')})).join("\n"),"\n"),t+="".concat(h.filter((function(t){var r=_slicedToArray(t,2);r[0];return r[1].valueDescriptions.size>0})).map((function(t){var r=_slicedToArray(t,2),i=r[0];return r[1].valueDescriptionText(i)})).join("\n"),"\n"),t+=this.comments.map((function(t){return'CM_ "'.concat(t,'";')})).join("\n"),"".concat(t.trim(),"\n")}},{key:"getMessageName",value:function getMessageName(t){var r=this.getMessageFrame(t);return r&&r.frame?r.frame.name:null}},{key:"getSignals",value:function getSignals(t){var r=this.getMessageFrame(t);return r?r.signals:{}}},{key:"createFrame",value:function createFrame(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,i=new v({name:this.nextNewFrameName(),id:t,size:r});return this.messages.set(t,i),i}},{key:"setSignals",value:function setSignals(t,r,i){var o=this.getMessageFrame(t);if(o){var a=Object.assign(Object.create(o),o);a.signals=r,this.messages.set(t,a)}else{var u=this.createFrame(t,i);u.signals=r,this.messages.set(t,u),this.updateBoardUnits()}}},{key:"addSignal",value:function addSignal(t,r){var i=this.getMessageFrame(t);i&&(i.signals[r.name]=r,this.updateBoardUnits())}},{key:"importDbcString",value:function importDbcString(t){for(var r=[],i=new Map,o=[],a=new Map,u=0,c=null,l=t.split("\n"),h=0;h<l.length;h++){var p=l[h].trim();if(0!==p.length){if(null!=c){var d=c,m=d.type,U=d.data;p=p.replace(/" *;/,"");var P="\n".concat(p.substr(0,p.length));if(-1!==p.indexOf('"')&&(c=null,P=P.substr(0,P.length-1)),"FollowUpSignalComment"===m)U.comment+=P;else if("FollowUpMsgComment"===m){U.comment+=P}else if("FollowUpBoardUnitComment"===m){U.comment+=P}else if("FollowUpDbcComment"===m){var j=this.comments[this.comments.length-1];this.comments[this.comments.length-1]=j+P}}if(0===p.indexOf("BO_ ")){var D=p.match(B);if(null===D){r.push("failed to parse message definition on line ".concat(h+1," -- ").concat(p));continue}var N=_slicedToArray(D.slice(1),4),Y=N[0],H=N[1],z=N[2],W=N[3];u=parseInt(Y,0),z=parseInt(z,10);var V=new v({name:H,id:u,size:z,transmitters:[W]});i.set(u,V)}else if(0===p.indexOf("SG_")){var q=p.match(E);if(null===q){if(null===(q=p.match(S))){r.push("failed to parse signal definition on line ".concat(h+1," -- ").concat(p));continue}q=q[1]+q.slice(3)}else q=q.slice(1);var G=_slicedToArray(q,11),X=G[0],J=G[1],$=G[2],K=G[3],Z=G[4],Q=G[5],ee=G[6],te=G[7],re=G[8],ne=G[9],ie=G[10];J=parseInt(J,10),$=parseInt($,10),K=1===parseInt(K,10),Z="-"===Z,Q=floatOrInt(Q),ee=floatOrInt(ee),te=floatOrInt(te),re=floatOrInt(re);var oe=ie.split(",").map((function(t){return t.trim()})),ae=new y({name:X,startBit:J,size:$,isLittleEndian:K,isSigned:Z,factor:Q,offset:ee,unit:ne,min:te,max:re,receiver:oe});void 0!==i.get(u)?i.get(u).signals[X]=ae:g.a.warn("importDbcString: could not add signal: ".concat(X," due to missing message: ").concat(u))}else if(0===p.indexOf("VAL_ ")){var se=p.match(A);if(null!==se){var ue=_slicedToArray(se.slice(1),3),fe=ue[0],ce=ue[1],le=ue[2];le=le.split('"').map((function(t){return t.trim()})).filter((function(t){return t.length>0})),fe=parseInt(fe,10);var he=i.get(fe).signals[ce];if(void 0===he){r.push("could not find signal for value description on line ".concat(h+1," -- ").concat(p));continue}for(var ge=0;ge<le.length;ge+=2){var pe=le[ge].trim(),de=le[ge+1].trim();he.valueDescriptions.set(pe,de)}}else r.push("failed to parse value description on line ".concat(h+1," -- ").concat(p))}else if(0===p.indexOf("VAL_TABLE_ ")){var me=p.match(T);if(null!==me){var ye=new Map,ve=_slicedToArray(me.slice(1),2),be=ve[0],_e=ve[1];_e=_e.split('"').map((function(t){return t.trim()})).filter((function(t){return t.length>0}));for(var we=0;we<_e.length;we+=2){var Be=_e[we],Ee=_e[we+1];ye.set(Be,Ee)}a.set(be,ye)}else r.push("failed to parse value table on line ".concat(h+1," -- ").concat(p))}else if(0===p.indexOf("BO_TX_BU_ ")){var Se=p.match(I);if(null!==Se){var Ae=_slicedToArray(Se.slice(1),2),Te=Ae[0],Ie=Ae[1];Te=parseInt(Te,10);var Ce=i.get(Te);Ce.transmitters.push(Ie),i.set(Te,Ce)}else r.push("failed to parse message transmitter definition on line ".concat(h+1," -- ").concat(p))}else if(0===p.indexOf("CM_ SG_ ")){var Oe=p.match(C),ke=!1;if(null===Oe&&(Oe=p.match(O),ke=!0),null===Oe){r.push("failed to parse signal comment on line ".concat(h+1," -- ").concat(p));continue}var xe=_slicedToArray(Oe.slice(1),3),Me=xe[0],Re=xe[1],Le=xe[2];Me=parseInt(Me,10);var Ue=i.get(Me);if(void 0===Ue){r.push("failed to parse signal comment on line ".concat(h+1," -- ").concat(p,":\n                                    message id ").concat(Me," does not exist prior to this line"));continue}var Pe=Ue.signals[Re];if(void 0===Pe){r.push("failed to parse signal comment on line ".concat(h+1," -- ").concat(p));continue}Pe.comment=Le,i.set(Me,Ue),ke&&(c={type:"FollowUpSignalComment",data:Pe})}else if(0===p.indexOf("CM_ BO_ ")){var je=p.match(k),De=!1;if(null===je&&(De=!0,null===(je=p.match(x)))){r.push("failed to message comment on line ".concat(h+1," -- ").concat(p));continue}var Fe=_slicedToArray(je.slice(1),2),Ne=Fe[0],Ye=Fe[1];Ne=parseInt(Ne,10);var He=i.get(Ne);if(void 0===He){r.push("failed to find message to add comment to, msg id: ".concat(Ne));continue}He.comment=Ye,De&&(c={type:"FollowUpMsgComment",data:He})}else if(0===p.indexOf("BU_: ")){var ze=p.match(M);if(null===ze){r.push("failed to parse board unit definition on line ".concat(h+1," -- ").concat(p));continue}var We=_slicedToArray(ze.slice(1),1)[0].split(" ").map((function(t){return t.trim()})).filter((function(t){return t.length>0})).map((function(t){return new b(t)}));o=o.concat(We)}else if(0===p.indexOf("CM_ BU_ ")){if("continue"===function(){var t=p.match(R),i=!1;if(null===t&&(i=!0,null===(t=p.match(L))))return r.push("failed to parse board unit comment on line ".concat(h+1," -- ").concat(p)),"continue";var a=_slicedToArray(t.slice(1),2),u=a[0],l=a[1],g=o.find((function(t){return t.name===u}));g&&(g.comment=l),i&&(c={type:"FollowUpBoardUnitComment",data:g})}())continue}else if(0===p.indexOf("CM_ ")){var Ve=p.match(_),qe=!1;if(null===Ve){if(null===(Ve=p.match(w))){r.push("failed to parse dbc comment on line ".concat(h+1," -- ").concat(p));continue}qe=!0}var Ge=_slicedToArray(Ve.slice(1),1)[0];this.comments.push(Ge),qe&&(c={type:"FollowUpDbcComment",data:Ge})}}}r.length,this.messages=i,this.boardUnits=o,this.valueTables=a}},{key:"valueForIntSignal",value:function valueForIntSignal(t,r){var i,o;t.isLittleEndian?(i=t.startBit,o=t.startBit+t.size-1):(i=m.a.matrixBitNumber(m.a.bigEndianBitIndex(t.startBit)+t.size-1),o=t.startBit);for(var a=t.size>32?0n:0,u=Math.floor(o/8),c=t.size;u>=0&&u<r.byteLength&&c>0;){var l=Math.floor(i/8)===u?i:8*u,h=(Math.floor(o/8)===u?o:8*(u+1)-1)-l+1,g=r.getUint8(u)>>>l-8*u&(1<<h)-1;t.size>32?a|=BigInt(g)<<BigInt(c-h):a|=g<<c-h,c-=h,u=t.isLittleEndian?u-1:u+1}return t.size>32?(a=t.isSigned?BigInt.asIntN(64,a):a,Number.isInteger(t.factor)?a*BigInt(t.factor)+BigInt(t.offset):parseFloat(a)*t.factor+t.offset):(t.isSigned&&(a-=a>>t.size-1&1?1<<t.size:0),a*t.factor+t.offset)}},{key:"getSignalValues",value:function getSignalValues(t,r){var i=this;if(!this.messages.has(t))return{};var o=this.getMessageFrame(t),a=new DataView(r.buffer),u={};return Object.values(o.signals).forEach((function(t){isNaN(t.startBit)||(u[t.name]=i.valueForIntSignal(t,a))})),u}},{key:"getChffrMetricMappings",value:function getChffrMetricMappings(){var t=this.comments.find((function(t){return 0===t.indexOf("CHFFR_METRIC")}));return t?t.split(";").map((function(t){return t.trim().split(" ")})).reduce((function(t,r){var i=_slicedToArray(r,6),o=(i[0],i[1]),a=i[2],u=i[3],c=i[4],l=i[5];return t[u]={messageId:parseInt(o,10),signalName:a,factor:parseFloat(c),offset:parseFloat(l)},t}),{}):null}},{key:"_newSymbols",value:function _newSymbols(){return"\n    NS_DESC_\n    CM_\n    BA_DEF_\n    BA_\n    VAL_\n    CAT_DEF_\n    CAT_\n    FILTER\n    BA_DEF_DEF_\n    EV_DATA_\n    ENVVAR_DATA_\n    SGTYPE_\n    SGTYPE_VAL_\n    BA_DEF_SGTYPE_\n    BA_SGTYPE_\n    SIG_TYPE_REF_\n    VAL_TABLE_\n    SIG_GROUP_\n    SIG_VALTYPE_\n    SIGTYPE_VALTYPE_\n    BO_TX_BU_\n    BA_DEF_REL_\n    BA_REL_\n    BA_DEF_DEF_REL_\n    BU_SG_REL_\n    BU_EV_REL_\n    BU_BO_REL_\n    SG_MUL_VAL_"}}]),DBC}();self.onmessage=function(t){const{newCanMessages:r,prevMsgEntries:i,firstCanTime:o,dbcText:u,lastBusTime:c,byteStateChangeCountsByMessage:l,maxByteStateChangeCount:h}=t.data;!function processStreamedCanMessages(t,r,i,o,u,c,l){const h={};let g;for(let p=0;p<t.length;p++){let{time:d,canMessages:y}=t[p];y=y.sort((t,r)=>t[1]<r[1]?-1:t[1]>r[1]?1:0);let v=0;for(let t=0;t<y.length;t++){const{address:l,busTime:p,data:b,bus:_}=y[t];let w;w=0===t?null===u?0:u:y[t-1].busTime,v+=p>=w?p-w:65536-w+p;const B=a()(y[t]);B.busTime=d+v/5e5,0===i&&(i=B.busTime);const E=m.a.addCanMessage(B,o,i,h,r,c);t===y.length-1&&(g=E.relTime)}u=y[y.length-1].busTime;const b=m.a.findMaxByteStateChangeCount(h);b>l&&(l=b),Object.keys(h).forEach(t=>{h[t]=m.a.setMessageByteColors(h[t],l)})}self.postMessage({newMessages:h,seekTime:g,lastBusTime:u,firstCanTime:i,maxByteStateChangeCount:l})}(r,i,o,new U(u),c,l,h)}}]);
//# sourceMappingURL=13e81a499e541c9b2ae9.worker.js.map